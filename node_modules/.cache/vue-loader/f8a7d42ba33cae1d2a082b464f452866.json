{"remainingRequest":"/Users/hicham/Documents/travaux/web/vuejs/myapp/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hicham/Documents/travaux/web/vuejs/myapp/src/views/secure.vue?vue&type=style&index=0&id=af211a3a&scoped=true&lang=css&","dependencies":[{"path":"/Users/hicham/Documents/travaux/web/vuejs/myapp/src/views/secure.vue","mtime":1572710930952},{"path":"/Users/hicham/Documents/travaux/web/vuejs/myapp/node_modules/css-loader/dist/cjs.js","mtime":1572430522391},{"path":"/Users/hicham/Documents/travaux/web/vuejs/myapp/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1572430522524},{"path":"/Users/hicham/Documents/travaux/web/vuejs/myapp/node_modules/postcss-loader/src/index.js","mtime":1572430522495},{"path":"/Users/hicham/Documents/travaux/web/vuejs/myapp/node_modules/cache-loader/dist/cjs.js","mtime":1572430522302},{"path":"/Users/hicham/Documents/travaux/web/vuejs/myapp/node_modules/vue-loader/lib/index.js","mtime":1572430522524}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLnNlbGVjdGVkIHsKICBmb250LXdlaWdodDogYm9sZDsKICBkaXNwbGF5OiBub25lOwogIGJhY2tncm91bmQtY29sb3I6ICNmZmZmZmY7CiAgcG9zaXRpb246IGFic29sdXRlOwogIHRvcDogMDsKICBsZWZ0OiAwOwogIG9wYWNpdHk6IDAuODsKICB6LWluZGV4OiA5OTk5OwogIHdpZHRoOiAxMDAlOwogIGhlaWdodDogMTAwJTsKICBsaW5lLWhlaWdodDogNDU7Cn0KCi5jYXJkIHsKICB3aWR0aDogMjByZW07CiAgZGlzcGxheTogaW5saW5lLXRhYmxlOwp9Cgojc2VjdXJlIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmOwogIGJvcmRlcjogMXB4IHNvbGlkICNjY2NjY2M7CiAgcGFkZGluZzogMjBweDsKICBtYXJnaW4tdG9wOiAxMHB4Owp9CgouY29udGFpbmVyIHsKICBkaXNwbGF5OiBpbmxpbmUtdGFibGU7CgogIHdpZHRoOiAxMDAlOwogIG1hcmdpbjogMDsKICBwYWRkaW5nOiAwOwp9Cgouc3lub3BzaXMgewogIGhlaWdodDogMTUwcHg7Cgp9CgoucmVzdW1lIHsKICBmb250LXNpemU6IDEycHg7CgoKfQoKLnByaWNlIHsKICBmb250LXNpemU6IDEuNGVtOwogIGJhY2tncm91bmQtY29sb3I6IGRvZGdlcmJsdWU7CiAgbWFyZ2luOiAxMHB4Owp9CgppbWcgewogIHdpZHRoOiAxMDAlOwp9Cgo="},{"version":3,"sources":["secure.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"secure.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div id=\"secure\">\n    <h1>Bienvenue dans votre librairie</h1>\n    <p>\n      Notre sélection\n    </p>\n    <b-navbar toggleable=\"lg\" type=\"dark\" variant=\"info\">\n      <b-navbar-brand href=\"#\">Menu</b-navbar-brand>\n\n      <b-navbar-toggle target=\"nav-collapse\"></b-navbar-toggle>\n\n      <b-collapse id=\"nav-collapse\" is-nav>\n        <b-navbar-nav>\n          <b-nav-item href=\"#\" disabled>Selection</b-nav-item>\n          <b-nav-item @click.prevent=\"monpanier()\">Panier <strong style=\"color:white;\">{{items}}</strong></b-nav-item>\n        </b-navbar-nav>\n\n        <!-- Right aligned nav items -->\n        <b-navbar-nav class=\"ml-auto\">\n          <b-nav-form>\n            <b-form-input size=\"sm\" class=\"mr-sm-2\" v-model=\"search\" placeholder=\"titre..\"></b-form-input>\n            <b-button @click.prevent=\"searchTitle($event)\" size=\"sm\" class=\"my-2 my-sm-0\" type=\"submit\">Chercher</b-button>\n          </b-nav-form>\n\n\n\n          <b-nav-item-dropdown right>\n            <!-- Using 'button-content' slot -->\n            <template v-slot:button-content>\n              <em>User</em>\n            </template>\n            <b-dropdown-item href=\"#\">Profile</b-dropdown-item>\n            <b-dropdown-item href=\"#\">Sign Out</b-dropdown-item>\n          </b-nav-item-dropdown>\n        </b-navbar-nav>\n      </b-collapse>\n    </b-navbar>\n    <div class=\"container\">\n      <div v-show=\"seen\">\n        <b-button @click.prevent=\"resetSearch()\">Effacer la recherche</b-button>\n      </div>\n      <b-card v-for=\"todo in books\" :key=\"todo.title\" img-alt=\"Image\" img-top tag=\"article\" class=\"card\">\n        <div class=\"selected\">\n          <p>Ajouté au panier</p>\n        </div>\n        <b-card-title>{{todo.title}}</b-card-title>\n        <b-badge class=\"price\">{{todo.price+\"€\"}}</b-badge>\n        <img :src=todo.cover alt=\"Harry\" bottom>\n        <div class=\"synopsis\"><strong>Résumé</strong>\n          <b-card-text>\n            <v-clamp class=\"resume\" autoresize :max-lines=\"5\">{{ todo.synopsis }}</v-clamp>\n          </b-card-text>\n        </div>\n        <b-button :disabled=false @click.prevent=\"checkbooks(todo.title,todo.price,todo.isbn,$event)\" variant=\"primary\">Ajouter</b-button>\n      </b-card>\n    </div>\n  </div>\n\n</template>\n\n<script>\n  import axios from \"axios\";\n  import VClamp from 'vue-clamp';\n  //  import {\n  //    EventBus\n  //  } from \"@/eventbus.js\";\n  export default {\n    name: \"Secure\",\n    components: {\n      VClamp\n    },\n    data() {\n      return {\n        books: {},\n        remises: [],\n        livres: [],\n        mesprix: [],\n        items: 0,\n        seen: false\n\n\n      };\n    },\n    mounted() {\n      axios.get(\"http://henri-potier.xebia.fr/books\")\n        .then(response => {\n          this.books = response.data;\n\n        })\n        .catch(err => {\n          console.log(\"error\" + err)\n        })\n    },\n    methods: {\n      checkbooks(t, p, i, e) {\n        e.target.parentNode.children[0].style.display = \"block\"\n        e.target.disabled = true;\n        this.items++;\n        this.remises.push(i);\n        this.mesprix.push(p);\n        this.livres.push(t);\n\n\n      },\n      monpanier() {\n        const payload = {\n          choices: {\n            titre: this.livres,\n            prix: this.mesprix,\n            offre: this.remises\n          }\n        }\n\n        this.$router.replace({\n          name: \"panier\",\n          params: {\n            payload\n          }\n        });\n\n      },\n      searchTitle(e) {\n        const mysearch = e.target.previousSibling.value;\n        for (var i = 0; i < this.books.length; i++) {\n          console.log(this.books[i])\n          if (!this.books[i].title.toLowerCase().includes(mysearch.toLowerCase())) {\n            this.seen = true;\n            Array.from(document.querySelector('.container').children)[i+1].style.display = \"none\";\n          }\n\n        }\n\n      },\n      resetSearch() {\n        this.seen = false;\n        for (var i = 0; i < this.books.length; i++) {\n          Array.from(document.querySelector('.container').children)[i].style.display = \"inline-block\";\n        }\n      }\n\n    }\n\n  };\n\n</script>\n\n<style scoped>\n  .selected {\n    font-weight: bold;\n    display: none;\n    background-color: #ffffff;\n    position: absolute;\n    top: 0;\n    left: 0;\n    opacity: 0.8;\n    z-index: 9999;\n    width: 100%;\n    height: 100%;\n    line-height: 45;\n  }\n\n  .card {\n    width: 20rem;\n    display: inline-table;\n  }\n\n  #secure {\n    background-color: #ffffff;\n    border: 1px solid #cccccc;\n    padding: 20px;\n    margin-top: 10px;\n  }\n\n  .container {\n    display: inline-table;\n\n    width: 100%;\n    margin: 0;\n    padding: 0;\n  }\n\n  .synopsis {\n    height: 150px;\n\n  }\n\n  .resume {\n    font-size: 12px;\n\n\n  }\n\n  .price {\n    font-size: 1.4em;\n    background-color: dodgerblue;\n    margin: 10px;\n  }\n\n  img {\n    width: 100%;\n  }\n\n</style>\n"]}]}