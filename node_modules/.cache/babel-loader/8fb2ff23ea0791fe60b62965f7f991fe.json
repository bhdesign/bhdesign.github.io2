{"remainingRequest":"/Users/hicham/Documents/travaux/web/vuejs/myapp/node_modules/babel-loader/lib/index.js!/Users/hicham/Documents/travaux/web/vuejs/myapp/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/hicham/Documents/travaux/web/vuejs/myapp/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hicham/Documents/travaux/web/vuejs/myapp/src/views/secure.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hicham/Documents/travaux/web/vuejs/myapp/src/views/secure.vue","mtime":1572710930952},{"path":"/Users/hicham/Documents/travaux/web/vuejs/myapp/node_modules/cache-loader/dist/cjs.js","mtime":1572430522302},{"path":"/Users/hicham/Documents/travaux/web/vuejs/myapp/node_modules/babel-loader/lib/index.js","mtime":1572430518705},{"path":"/Users/hicham/Documents/travaux/web/vuejs/myapp/node_modules/cache-loader/dist/cjs.js","mtime":1572430522302},{"path":"/Users/hicham/Documents/travaux/web/vuejs/myapp/node_modules/vue-loader/lib/index.js","mtime":1572430522524}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZnJvbSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBWQ2xhbXAgZnJvbSAndnVlLWNsYW1wJzsgLy8gIGltcG9ydCB7Ci8vICAgIEV2ZW50QnVzCi8vICB9IGZyb20gIkAvZXZlbnRidXMuanMiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJTZWN1cmUiLAogIGNvbXBvbmVudHM6IHsKICAgIFZDbGFtcDogVkNsYW1wCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYm9va3M6IHt9LAogICAgICByZW1pc2VzOiBbXSwKICAgICAgbGl2cmVzOiBbXSwKICAgICAgbWVzcHJpeDogW10sCiAgICAgIGl0ZW1zOiAwLAogICAgICBzZWVuOiBmYWxzZQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIGF4aW9zLmdldCgiaHR0cDovL2hlbnJpLXBvdGllci54ZWJpYS5mci9ib29rcyIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIF90aGlzLmJvb2tzID0gcmVzcG9uc2UuZGF0YTsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgY29uc29sZS5sb2coImVycm9yIiArIGVycik7CiAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGNoZWNrYm9va3M6IGZ1bmN0aW9uIGNoZWNrYm9va3ModCwgcCwgaSwgZSkgewogICAgICBlLnRhcmdldC5wYXJlbnROb2RlLmNoaWxkcmVuWzBdLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgICBlLnRhcmdldC5kaXNhYmxlZCA9IHRydWU7CiAgICAgIHRoaXMuaXRlbXMrKzsKICAgICAgdGhpcy5yZW1pc2VzLnB1c2goaSk7CiAgICAgIHRoaXMubWVzcHJpeC5wdXNoKHApOwogICAgICB0aGlzLmxpdnJlcy5wdXNoKHQpOwogICAgfSwKICAgIG1vbnBhbmllcjogZnVuY3Rpb24gbW9ucGFuaWVyKCkgewogICAgICB2YXIgcGF5bG9hZCA9IHsKICAgICAgICBjaG9pY2VzOiB7CiAgICAgICAgICB0aXRyZTogdGhpcy5saXZyZXMsCiAgICAgICAgICBwcml4OiB0aGlzLm1lc3ByaXgsCiAgICAgICAgICBvZmZyZTogdGhpcy5yZW1pc2VzCiAgICAgICAgfQogICAgICB9OwogICAgICB0aGlzLiRyb3V0ZXIucmVwbGFjZSh7CiAgICAgICAgbmFtZTogInBhbmllciIsCiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBwYXlsb2FkOiBwYXlsb2FkCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBzZWFyY2hUaXRsZTogZnVuY3Rpb24gc2VhcmNoVGl0bGUoZSkgewogICAgICB2YXIgbXlzZWFyY2ggPSBlLnRhcmdldC5wcmV2aW91c1NpYmxpbmcudmFsdWU7CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYm9va3MubGVuZ3RoOyBpKyspIHsKICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmJvb2tzW2ldKTsKCiAgICAgICAgaWYgKCF0aGlzLmJvb2tzW2ldLnRpdGxlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMobXlzZWFyY2gudG9Mb3dlckNhc2UoKSkpIHsKICAgICAgICAgIHRoaXMuc2VlbiA9IHRydWU7CiAgICAgICAgICBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWluZXInKS5jaGlsZHJlbilbaSArIDFdLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgcmVzZXRTZWFyY2g6IGZ1bmN0aW9uIHJlc2V0U2VhcmNoKCkgewogICAgICB0aGlzLnNlZW4gPSBmYWxzZTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ib29rcy5sZW5ndGg7IGkrKykgewogICAgICAgIEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRhaW5lcicpLmNoaWxkcmVuKVtpXS5zdHlsZS5kaXNwbGF5ID0gImlubGluZS1ibG9jayI7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["secure.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div id=\"secure\">\n    <h1>Bienvenue dans votre librairie</h1>\n    <p>\n      Notre sélection\n    </p>\n    <b-navbar toggleable=\"lg\" type=\"dark\" variant=\"info\">\n      <b-navbar-brand href=\"#\">Menu</b-navbar-brand>\n\n      <b-navbar-toggle target=\"nav-collapse\"></b-navbar-toggle>\n\n      <b-collapse id=\"nav-collapse\" is-nav>\n        <b-navbar-nav>\n          <b-nav-item href=\"#\" disabled>Selection</b-nav-item>\n          <b-nav-item @click.prevent=\"monpanier()\">Panier <strong style=\"color:white;\">{{items}}</strong></b-nav-item>\n        </b-navbar-nav>\n\n        <!-- Right aligned nav items -->\n        <b-navbar-nav class=\"ml-auto\">\n          <b-nav-form>\n            <b-form-input size=\"sm\" class=\"mr-sm-2\" v-model=\"search\" placeholder=\"titre..\"></b-form-input>\n            <b-button @click.prevent=\"searchTitle($event)\" size=\"sm\" class=\"my-2 my-sm-0\" type=\"submit\">Chercher</b-button>\n          </b-nav-form>\n\n\n\n          <b-nav-item-dropdown right>\n            <!-- Using 'button-content' slot -->\n            <template v-slot:button-content>\n              <em>User</em>\n            </template>\n            <b-dropdown-item href=\"#\">Profile</b-dropdown-item>\n            <b-dropdown-item href=\"#\">Sign Out</b-dropdown-item>\n          </b-nav-item-dropdown>\n        </b-navbar-nav>\n      </b-collapse>\n    </b-navbar>\n    <div class=\"container\">\n      <div v-show=\"seen\">\n        <b-button @click.prevent=\"resetSearch()\">Effacer la recherche</b-button>\n      </div>\n      <b-card v-for=\"todo in books\" :key=\"todo.title\" img-alt=\"Image\" img-top tag=\"article\" class=\"card\">\n        <div class=\"selected\">\n          <p>Ajouté au panier</p>\n        </div>\n        <b-card-title>{{todo.title}}</b-card-title>\n        <b-badge class=\"price\">{{todo.price+\"€\"}}</b-badge>\n        <img :src=todo.cover alt=\"Harry\" bottom>\n        <div class=\"synopsis\"><strong>Résumé</strong>\n          <b-card-text>\n            <v-clamp class=\"resume\" autoresize :max-lines=\"5\">{{ todo.synopsis }}</v-clamp>\n          </b-card-text>\n        </div>\n        <b-button :disabled=false @click.prevent=\"checkbooks(todo.title,todo.price,todo.isbn,$event)\" variant=\"primary\">Ajouter</b-button>\n      </b-card>\n    </div>\n  </div>\n\n</template>\n\n<script>\n  import axios from \"axios\";\n  import VClamp from 'vue-clamp';\n  //  import {\n  //    EventBus\n  //  } from \"@/eventbus.js\";\n  export default {\n    name: \"Secure\",\n    components: {\n      VClamp\n    },\n    data() {\n      return {\n        books: {},\n        remises: [],\n        livres: [],\n        mesprix: [],\n        items: 0,\n        seen: false\n\n\n      };\n    },\n    mounted() {\n      axios.get(\"http://henri-potier.xebia.fr/books\")\n        .then(response => {\n          this.books = response.data;\n\n        })\n        .catch(err => {\n          console.log(\"error\" + err)\n        })\n    },\n    methods: {\n      checkbooks(t, p, i, e) {\n        e.target.parentNode.children[0].style.display = \"block\"\n        e.target.disabled = true;\n        this.items++;\n        this.remises.push(i);\n        this.mesprix.push(p);\n        this.livres.push(t);\n\n\n      },\n      monpanier() {\n        const payload = {\n          choices: {\n            titre: this.livres,\n            prix: this.mesprix,\n            offre: this.remises\n          }\n        }\n\n        this.$router.replace({\n          name: \"panier\",\n          params: {\n            payload\n          }\n        });\n\n      },\n      searchTitle(e) {\n        const mysearch = e.target.previousSibling.value;\n        for (var i = 0; i < this.books.length; i++) {\n          console.log(this.books[i])\n          if (!this.books[i].title.toLowerCase().includes(mysearch.toLowerCase())) {\n            this.seen = true;\n            Array.from(document.querySelector('.container').children)[i+1].style.display = \"none\";\n          }\n\n        }\n\n      },\n      resetSearch() {\n        this.seen = false;\n        for (var i = 0; i < this.books.length; i++) {\n          Array.from(document.querySelector('.container').children)[i].style.display = \"inline-block\";\n        }\n      }\n\n    }\n\n  };\n\n</script>\n\n<style scoped>\n  .selected {\n    font-weight: bold;\n    display: none;\n    background-color: #ffffff;\n    position: absolute;\n    top: 0;\n    left: 0;\n    opacity: 0.8;\n    z-index: 9999;\n    width: 100%;\n    height: 100%;\n    line-height: 45;\n  }\n\n  .card {\n    width: 20rem;\n    display: inline-table;\n  }\n\n  #secure {\n    background-color: #ffffff;\n    border: 1px solid #cccccc;\n    padding: 20px;\n    margin-top: 10px;\n  }\n\n  .container {\n    display: inline-table;\n\n    width: 100%;\n    margin: 0;\n    padding: 0;\n  }\n\n  .synopsis {\n    height: 150px;\n\n  }\n\n  .resume {\n    font-size: 12px;\n\n\n  }\n\n  .price {\n    font-size: 1.4em;\n    background-color: dodgerblue;\n    margin: 10px;\n  }\n\n  img {\n    width: 100%;\n  }\n\n</style>\n"],"sourceRoot":"src/views"}]}