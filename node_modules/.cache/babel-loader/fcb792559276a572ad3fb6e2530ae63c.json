{"remainingRequest":"/Users/hicham/Documents/travaux/web/vuejs/myapp/node_modules/babel-loader/lib/index.js!/Users/hicham/Documents/travaux/web/vuejs/myapp/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/hicham/Documents/travaux/web/vuejs/myapp/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hicham/Documents/travaux/web/vuejs/myapp/src/views/panier.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hicham/Documents/travaux/web/vuejs/myapp/src/views/panier.vue","mtime":1572529255000},{"path":"/Users/hicham/Documents/travaux/web/vuejs/myapp/node_modules/cache-loader/dist/cjs.js","mtime":1572430522302},{"path":"/Users/hicham/Documents/travaux/web/vuejs/myapp/node_modules/babel-loader/lib/index.js","mtime":1572430518705},{"path":"/Users/hicham/Documents/travaux/web/vuejs/myapp/node_modules/cache-loader/dist/cjs.js","mtime":1572430522302},{"path":"/Users/hicham/Documents/travaux/web/vuejs/myapp/node_modules/vue-loader/lib/index.js","mtime":1572430522524}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmVkdWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnZhbHVlcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogInBhbmllciIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRpdGxlOiAiIiwKICAgICAgcHJpeDogIiIsCiAgICAgIG9mZnJlOiAiIiwKICAgICAgb2ZmcmVDb206ICIiLAogICAgICB0b3RhbDogIiIsCiAgICAgIHByaXhSZW1pc2U6ICIiLAogICAgICBwcml4RmluYWw6ICIiLAogICAgICBuYl9jaG9peDogIiIsCiAgICAgIGNvbXBhcmVQcmljZTogW10sCiAgICAgIGJlc3RQcmljZTogIiIKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICB0aGlzLnVwZGF0ZURhdGEodGhpcy4kcm91dGUucGFyYW1zLnBheWxvYWQpOwogICAgYXhpb3MuZ2V0KCJodHRwOi8vaGVucmktcG90aWVyLnhlYmlhLmZyL2Jvb2tzLyIgKyB0aGlzLiRyb3V0ZS5wYXJhbXMucGF5bG9hZC5jaG9pY2VzLm9mZnJlICsgIi9jb21tZXJjaWFsT2ZmZXJzIikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgX3RoaXMub2ZmcmVDb20gPSByZXNwb25zZS5kYXRhOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBfdGhpcy5vZmZyZUNvbS5vZmZlcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAoX3RoaXMub2ZmcmVDb20ub2ZmZXJzW2ldLnR5cGUgPT0gInBlcmNlbnRhZ2UiKSB7CiAgICAgICAgICBfdGhpcy5wcml4UmVtaXNlID0gX3RoaXMub2ZmcmVDb20ub2ZmZXJzW2ldLnZhbHVlOwogICAgICAgICAgX3RoaXMucHJpeEZpbmFsID0gX3RoaXMudG90YWwgLSBfdGhpcy50b3RhbCAqIF90aGlzLnByaXhSZW1pc2UgLyAxMDA7CgogICAgICAgICAgX3RoaXMuY29tcGFyZVByaWNlLnB1c2goX3RoaXMucHJpeEZpbmFsKTsKCiAgICAgICAgICBjb25zb2xlLmxvZyhfdGhpcy5jb21wYXJlUHJpY2UpOwogICAgICAgIH0KCiAgICAgICAgaWYgKF90aGlzLm9mZnJlQ29tLm9mZmVyc1tpXS50eXBlID09ICJtaW51cyIpIHsKICAgICAgICAgIF90aGlzLnByaXhSZW1pc2UgPSBfdGhpcy5vZmZyZUNvbS5vZmZlcnNbaV0udmFsdWU7CiAgICAgICAgICBfdGhpcy5wcml4RmluYWwgPSBfdGhpcy50b3RhbCAtIF90aGlzLnRvdGFsICogX3RoaXMucHJpeFJlbWlzZSAvIDEwMDsKCiAgICAgICAgICBfdGhpcy5jb21wYXJlUHJpY2UucHVzaChfdGhpcy5wcml4RmluYWwpOwoKICAgICAgICAgIGNvbnNvbGUubG9nKF90aGlzLmNvbXBhcmVQcmljZSk7CiAgICAgICAgfQoKICAgICAgICBpZiAoX3RoaXMub2ZmcmVDb20ub2ZmZXJzW2ldLnR5cGUgPT0gInNsaWNlIikgewogICAgICAgICAgX3RoaXMucHJpeFJlbWlzZSA9IF90aGlzLm9mZnJlQ29tLm9mZmVyc1tpXS5zbGljZVZhbHVlOwoKICAgICAgICAgIGlmIChfdGhpcy50b3RhbCA+IF90aGlzLnByaXhSZW1pc2UpIHsKICAgICAgICAgICAgX3RoaXMucHJpeEZpbmFsID0gX3RoaXMudG90YWwgLSBfdGhpcy5vZmZyZUNvbS5vZmZlcnNbaV0udmFsdWU7CgogICAgICAgICAgICBfdGhpcy5jb21wYXJlUHJpY2UucHVzaChfdGhpcy5wcml4RmluYWwpOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgX3RoaXMuYmVzdFByaWNlID0gQXJyYXkubWluKF90aGlzLmNvbXBhcmVQcmljZSk7CiAgICAgIH0KICAgIH0pOwoKICAgIEFycmF5Lm1pbiA9IGZ1bmN0aW9uIChhcnJheSkgewogICAgICByZXR1cm4gTWF0aC5taW4uYXBwbHkoTWF0aCwgYXJyYXkpOwogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHByZXY6IGZ1bmN0aW9uIHByZXYoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKHsKICAgICAgICBuYW1lOiAic2VjdXJlIgogICAgICB9KTsKICAgIH0sCiAgICB1cGRhdGVEYXRhOiBmdW5jdGlvbiB1cGRhdGVEYXRhKHApIHsKICAgICAgdGhpcy5uYl9jaG9peCA9IHAuY2hvaWNlcy50aXRyZS5sZW5ndGg7CiAgICAgIHRoaXMudGl0bGUgPSBPYmplY3QuYXNzaWduKHt9LCBwLmNob2ljZXMudGl0cmUpOwogICAgICB0aGlzLnByaXggPSBPYmplY3QuYXNzaWduKHt9LCBwLmNob2ljZXMucHJpeCk7CgogICAgICB2YXIgc3VtVmFsdWVzID0gZnVuY3Rpb24gc3VtVmFsdWVzKG9iaikgewogICAgICAgIHJldHVybiBPYmplY3QudmFsdWVzKG9iaikucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgICByZXR1cm4gYSArIGI7CiAgICAgICAgfSk7CiAgICAgIH07CgogICAgICB0aGlzLnRvdGFsID0gc3VtVmFsdWVzKHRoaXMucHJpeCk7CiAgICAgIHRoaXMub2ZmcmUgPSBPYmplY3QuYXNzaWduKHt9LCBwLmNob2ljZXMub2ZmcmUpOwogICAgfSwKICAgIHBhbmllcnZhbGlkOiBmdW5jdGlvbiBwYW5pZXJ2YWxpZCgpIHsKICAgICAgY29uc29sZS5sb2codGhpcy5pc2Nob2ljZXMpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["panier.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA,OAAA,KAAA,MAAA,OAAA;AACA,eAAA;AAEA,EAAA,IAAA,EAAA,QAFA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,EADA;AAEA,MAAA,IAAA,EAAA,EAFA;AAGA,MAAA,KAAA,EAAA,EAHA;AAIA,MAAA,QAAA,EAAA,EAJA;AAKA,MAAA,KAAA,EAAA,EALA;AAMA,MAAA,UAAA,EAAA,EANA;AAOA,MAAA,SAAA,EAAA,EAPA;AAQA,MAAA,QAAA,EAAA,EARA;AASA,MAAA,YAAA,EAAA,EATA;AAUA,MAAA,SAAA,EAAA;AAVA,KAAA;AAYA,GAhBA;AAiBA,EAAA,OAjBA,qBAiBA;AAAA;;AACA,SAAA,UAAA,CAAA,KAAA,MAAA,CAAA,MAAA,CAAA,OAAA;AACA,IAAA,KAAA,CAAA,GAAA,CAAA,wCAAA,KAAA,MAAA,CAAA,MAAA,CAAA,OAAA,CAAA,OAAA,CAAA,KAAA,GAAA,mBAAA,EACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,MAAA,KAAA,CAAA,QAAA,GAAA,QAAA,CAAA,IAAA;;AACA,WAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,KAAA,CAAA,QAAA,CAAA,MAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA,YAAA,KAAA,CAAA,QAAA,CAAA,MAAA,CAAA,CAAA,EAAA,IAAA,IAAA,YAAA,EAAA;AACA,UAAA,KAAA,CAAA,UAAA,GAAA,KAAA,CAAA,QAAA,CAAA,MAAA,CAAA,CAAA,EAAA,KAAA;AACA,UAAA,KAAA,CAAA,SAAA,GAAA,KAAA,CAAA,KAAA,GAAA,KAAA,CAAA,KAAA,GAAA,KAAA,CAAA,UAAA,GAAA,GAAA;;AACA,UAAA,KAAA,CAAA,YAAA,CAAA,IAAA,CAAA,KAAA,CAAA,SAAA;;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA,YAAA;AACA;;AACA,YAAA,KAAA,CAAA,QAAA,CAAA,MAAA,CAAA,CAAA,EAAA,IAAA,IAAA,OAAA,EAAA;AACA,UAAA,KAAA,CAAA,UAAA,GAAA,KAAA,CAAA,QAAA,CAAA,MAAA,CAAA,CAAA,EAAA,KAAA;AACA,UAAA,KAAA,CAAA,SAAA,GAAA,KAAA,CAAA,KAAA,GAAA,KAAA,CAAA,KAAA,GAAA,KAAA,CAAA,UAAA,GAAA,GAAA;;AACA,UAAA,KAAA,CAAA,YAAA,CAAA,IAAA,CAAA,KAAA,CAAA,SAAA;;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA,YAAA;AACA;;AACA,YAAA,KAAA,CAAA,QAAA,CAAA,MAAA,CAAA,CAAA,EAAA,IAAA,IAAA,OAAA,EAAA;AACA,UAAA,KAAA,CAAA,UAAA,GAAA,KAAA,CAAA,QAAA,CAAA,MAAA,CAAA,CAAA,EAAA,UAAA;;AACA,cAAA,KAAA,CAAA,KAAA,GAAA,KAAA,CAAA,UAAA,EAAA;AACA,YAAA,KAAA,CAAA,SAAA,GAAA,KAAA,CAAA,KAAA,GAAA,KAAA,CAAA,QAAA,CAAA,MAAA,CAAA,CAAA,EAAA,KAAA;;AACA,YAAA,KAAA,CAAA,YAAA,CAAA,IAAA,CAAA,KAAA,CAAA,SAAA;AACA;AAEA;;AACA,QAAA,KAAA,CAAA,SAAA,GAAA,KAAA,CAAA,GAAA,CAAA,KAAA,CAAA,YAAA,CAAA;AACA;AAGA,KA5BA;;AA6BA,IAAA,KAAA,CAAA,GAAA,GAAA,UAAA,KAAA,EAAA;AACA,aAAA,IAAA,CAAA,GAAA,CAAA,KAAA,CAAA,IAAA,EAAA,KAAA,CAAA;AACA,KAFA;AAGA,GAnDA;AAoDA,EAAA,OAAA,EAAA;AACA,IAAA,IADA,kBACA;AACA,WAAA,OAAA,CAAA,OAAA,CAAA;AACA,QAAA,IAAA,EAAA;AADA,OAAA;AAGA,KALA;AAMA,IAAA,UANA,sBAMA,CANA,EAMA;AACA,WAAA,QAAA,GAAA,CAAA,CAAA,OAAA,CAAA,KAAA,CAAA,MAAA;AACA,WAAA,KAAA,GAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA,CAAA,CAAA,OAAA,CAAA,KAAA,CAAA;AACA,WAAA,IAAA,GAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA,CAAA,CAAA,OAAA,CAAA,IAAA,CAAA;;AACA,UAAA,SAAA,GAAA,SAAA,SAAA,CAAA,GAAA;AAAA,eAAA,MAAA,CAAA,MAAA,CAAA,GAAA,EAAA,MAAA,CAAA,UAAA,CAAA,EAAA,CAAA;AAAA,iBAAA,CAAA,GAAA,CAAA;AAAA,SAAA,CAAA;AAAA,OAAA;;AACA,WAAA,KAAA,GAAA,SAAA,CAAA,KAAA,IAAA,CAAA;AACA,WAAA,KAAA,GAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA,CAAA,CAAA,OAAA,CAAA,KAAA,CAAA;AAEA,KAdA;AAeA,IAAA,WAfA,yBAeA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA,SAAA;AACA;AAjBA;AApDA,CAAA","sourcesContent":["<template>\n\t<div>\n\t\t<b-jumbotron>\n\t\t\t<template v-slot:header>Votre sélection</template>\n\t\t\t<template v-slot:lead>\n\t\t\t\t<b-container class=\"bv-example-row\">\n\t\t\t\t\t<b-row v-for=\"index in nb_choix\" :key=\"index\">\n\t\t\t\t\t\t<b-col>{{title[index-1]}}</b-col>\n\t\t\t\t\t\t<b-col>{{prix[index-1]}}€</b-col>\n\n\t\t\t\t\t</b-row>\n\t\t\t\t\t<b-row>\n\t\t\t\t\t\t<b-col><strong>Total sans remise:</strong></b-col>\n\t\t\t\t\t\t<b-col><strong>{{total}} €</strong></b-col>\n\t\t\t\t\t</b-row>\n\t\t\t\t\t<b-row>\n\t\t\t\t\t\t<b-col><strong>Total avec remise:</strong></b-col>\n\t\t\t\t\t\t<b-col><strong>{{bestPrice}} €</strong></b-col>\n\t\t\t\t\t</b-row>\n\t\t\t\t</b-container>\n\t\t\t\t<!--\n\t\t\t\t<div id=\"selection\">\n\t\t\t\t\t<div v-for=\"t in ischoices.titre\" :key=\"t.title\">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t<div v-for=\"t in ischoices.prix\" :key=\"t.title\">\n\t\t\t\t\t\t</div>\n\t\t\t\t</div>\n-->\n\t\t\t</template>\n\n\t\t\t<b-button variant=\"primary\" @click.prevent=\"prev()\">Revenir en arrière</b-button>\n\t\t\t<b-button variant=\"success\" @click.prevent=\"paniervalid()\">Validez le panier</b-button>\n\t\t</b-jumbotron>\n\n\t</div>\n</template>\n<script>\n\timport axios from \"axios\";\n\texport default {\n\n\t\tname: \"panier\",\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\ttitle: \"\",\n\t\t\t\tprix: \"\",\n\t\t\t\toffre: \"\",\n\t\t\t\toffreCom: \"\",\n\t\t\t\ttotal: \"\",\n\t\t\t\tprixRemise: \"\",\n\t\t\t\tprixFinal: \"\",\n\t\t\t\tnb_choix: \"\",\n\t\t\t\tcomparePrice:[],\n\t\t\t\tbestPrice:\"\"\n\t\t\t};\n\t\t},\n\t\tmounted() {\n\t\t\tthis.updateData(this.$route.params.payload);\n\t\t\taxios.get(\"http://henri-potier.xebia.fr/books/\" + this.$route.params.payload.choices.offre + \"/commercialOffers\")\n\t\t\t\t.then(response => {\n\t\t\t\t\tthis.offreCom = response.data;\n\t\t\t\t\tfor (var i = 0; i < this.offreCom.offers.length; i++) {\n\t\t\t\t\t\tif (this.offreCom.offers[i].type == \"percentage\") {\n\t\t\t\t\t\t\tthis.prixRemise = this.offreCom.offers[i].value;\n\t\t\t\t\t\t\tthis.prixFinal = this.total - (this.total * this.prixRemise / 100);\n\t\t\t\t\t\t\tthis.comparePrice.push(this.prixFinal);\n\t\t\t\t\t\t\tconsole.log(this.comparePrice)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (this.offreCom.offers[i].type == \"minus\") {\n\t\t\t\t\t\t\tthis.prixRemise = this.offreCom.offers[i].value;\n\t\t\t\t\t\t\tthis.prixFinal = this.total - (this.total * this.prixRemise / 100);\n\t\t\t\t\t\t\tthis.comparePrice.push(this.prixFinal);\n\t\t\t\t\t\t\tconsole.log(this.comparePrice)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (this.offreCom.offers[i].type == \"slice\") {\n\t\t\t\t\t\t\tthis.prixRemise = this.offreCom.offers[i].sliceValue;\n\t\t\t\t\t\t\tif(this.total>this.prixRemise){\n\t\t\t\t\t\t\t\tthis.prixFinal=this.total-this.offreCom.offers[i].value;\n\t\t\t\t\t\t\t\tthis.comparePrice.push(this.prixFinal);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.bestPrice=Array.min(this.comparePrice);\n\t\t\t\t\t}\n\n\n\t\t\t\t});\n\t\t\tArray.min = function(array) {\n\t\t\t\treturn Math.min.apply(Math, array);\n\t\t\t};\n\t\t},\n\t\tmethods: {\n\t\t\tprev() {\n\t\t\t\tthis.$router.replace({\n\t\t\t\t\tname: \"secure\"\n\t\t\t\t});\n\t\t\t},\n\t\t\tupdateData(p) {\n\t\t\t\tthis.nb_choix = p.choices.titre.length;\n\t\t\t\tthis.title = Object.assign({}, p.choices.titre);\n\t\t\t\tthis.prix = Object.assign({}, p.choices.prix);\n\t\t\t\tconst sumValues = obj => Object.values(obj).reduce((a, b) => a + b);\n\t\t\t\tthis.total = sumValues(this.prix);\n\t\t\t\tthis.offre = Object.assign({}, p.choices.offre);\n\n\t\t\t},\n\t\t\tpaniervalid() {\n\t\t\t\tconsole.log(this.ischoices);\n\t\t\t}\n\t\t}\n\t};\n\n</script>\n<style scoped>\n\t#selection {\n\t\tdisplay: inline;\n\t\twidth: 100%;\n\t}\n\n</style>\n"],"sourceRoot":"src/views"}]}